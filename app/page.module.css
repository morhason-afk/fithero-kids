.main {
  min-height: 100vh;
  padding: 0 0 88px;
  display: flex;
  flex-direction: column;
  gap: 0;
  max-width: 1024px;
  margin: 0 auto;
  position: relative;
}

/* Sky background (Minecraft-style clear blue) */
.skyWrap {
  flex: 1;
  min-height: 100vh;
  background: var(--gradient-sky, linear-gradient(180deg, #7DD3FC 0%, #BAE6FD 100%));
  position: relative;
  display: flex;
  flex-direction: column;
  z-index: 0;
}

/* Blocky / Minecraft-style scene layer */
/* Scene (clouds, trees, ground) ends above the bottom nav so trees are never hidden */
.sceneLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 88px;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

/* ---- Blocky clouds (rectangles) ---- */
.clouds {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: visible;
}
.blockyCloud {
  position: absolute;
  display: flex;
  flex-wrap: wrap;
  align-content: flex-start;
  gap: 2px;
  width: 80px;
}
@keyframes cloudDrift {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100vw); }
}

.cloudBlock {
  width: 14px;
  height: 14px;
  background: var(--block-cloud);
  border: 1px solid var(--block-cloud-edge);
  flex-shrink: 0;
}
.blockyCloud {
  animation: cloudDrift 90s linear infinite;
}
.blockyCloud1 { top: 8%; left: 0; width: 70px; animation-delay: 0s; }
.blockyCloud2 { top: 18%; left: 0; width: 60px; animation-delay: -11s; }
.blockyCloud3 { top: 35%; left: 0; width: 90px; animation-delay: -22s; }
.blockyCloud4 { top: 50%; left: 0; width: 64px; animation-delay: -33s; }
.blockyCloud5 { bottom: 35%; left: 0; width: 72px; animation-delay: -44s; }
.blockyCloud6 { bottom: 22%; left: 0; width: 56px; animation-delay: -55s; }
.blockyCloud7 { bottom: 10%; left: 0; width: 64px; animation-delay: -66s; }
.blockyCloud8 { top: 42%; left: 0; width: 70px; animation-delay: -77s; }
.blockyCloud1 .cloudBlock:nth-child(1) { }
.blockyCloud1 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud1 .cloudBlock:nth-child(3) { margin-left: 2px; }
.blockyCloud1 .cloudBlock:nth-child(4) { margin-left: 14px; }
.blockyCloud1 .cloudBlock:nth-child(5) { margin-left: 16px; }
.blockyCloud1 .cloudBlock:nth-child(6) { margin-left: 2px; }
.blockyCloud2 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud2 .cloudBlock:nth-child(3) { margin-left: 14px; }
.blockyCloud2 .cloudBlock:nth-child(4) { margin-left: 16px; }
.blockyCloud2 .cloudBlock:nth-child(5) { margin-left: 2px; }
.blockyCloud3 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud3 .cloudBlock:nth-child(3) { margin-left: 2px; }
.blockyCloud3 .cloudBlock:nth-child(4) { margin-left: 14px; }
.blockyCloud3 .cloudBlock:nth-child(5) { margin-left: 16px; }
.blockyCloud3 .cloudBlock:nth-child(6) { margin-left: 2px; }
.blockyCloud3 .cloudBlock:nth-child(7) { margin-left: 16px; }
.blockyCloud4 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud4 .cloudBlock:nth-child(3) { margin-left: 14px; }
.blockyCloud4 .cloudBlock:nth-child(4) { margin-left: 16px; }
.blockyCloud4 .cloudBlock:nth-child(5) { margin-left: 2px; }
.blockyCloud5 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud5 .cloudBlock:nth-child(3) { margin-left: 2px; }
.blockyCloud5 .cloudBlock:nth-child(4) { margin-left: 14px; }
.blockyCloud5 .cloudBlock:nth-child(5) { margin-left: 16px; }
.blockyCloud5 .cloudBlock:nth-child(6) { margin-left: 2px; }
.blockyCloud6 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud6 .cloudBlock:nth-child(3) { margin-left: 14px; }
.blockyCloud6 .cloudBlock:nth-child(4) { margin-left: 16px; }
.blockyCloud7 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud7 .cloudBlock:nth-child(3) { margin-left: 14px; }
.blockyCloud7 .cloudBlock:nth-child(4) { margin-left: 16px; }
.blockyCloud7 .cloudBlock:nth-child(5) { margin-left: 2px; }
.blockyCloud8 .cloudBlock:nth-child(2) { margin-left: 16px; }
.blockyCloud8 .cloudBlock:nth-child(3) { margin-left: 2px; }
.blockyCloud8 .cloudBlock:nth-child(4) { margin-left: 14px; }
.blockyCloud8 .cloudBlock:nth-child(5) { margin-left: 16px; }
.blockyCloud8 .cloudBlock:nth-child(6) { margin-left: 2px; }

/* ---- Blocky trees ---- */
.trees {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}
.blockyTree {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  bottom: 0;
}
.treeTrunk {
  width: 16px;
  height: 24px;
  background: var(--block-trunk);
  border: 1px solid var(--block-trunk-dark);
}
.treeLeaves {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 2px;
  width: 44px;
  margin-bottom: 2px;
}
.treeLeafBlock {
  width: 14px;
  height: 14px;
  background: var(--block-leaves);
  border: 1px solid var(--block-leaves-light);
}
.blockyTree1 { left: 2%; bottom: 24px; }
.blockyTree2 { left: 18%; bottom: 24px; transform: scale(0.9); }
.blockyTree3 { right: 22%; bottom: 24px; transform: scale(0.85); }
.blockyTree4 { right: 5%; bottom: 24px; transform: scale(0.95); }
.blockyTree5 { left: 35%; bottom: 24px; transform: scale(0.8); }
.blockyTree6 { right: 38%; bottom: 24px; transform: scale(0.75); }

/* ---- Blocky ground strip (grass/dirt) ---- */
.blockyGround {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 20px;
  display: flex;
  flex-wrap: nowrap;
  justify-content: flex-start;
  align-items: flex-end;
  gap: 0;
  pointer-events: none;
  min-width: 100%;
}
.groundBlock {
  width: 20px;
  height: 20px;
  min-width: 20px;
  border: 1px solid rgba(0,0,0,0.2);
  flex-shrink: 0;
}
.groundBlockGrass {
  background: var(--block-grass);
  border-color: var(--block-grass-dark);
}
.groundBlockDirt {
  background: var(--block-dirt);
  border-color: var(--block-dirt-dark);
}

.contentWrap {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 16px 16px 24px;
}
@media (max-width: 768px) {
  .contentWrap {
    padding: 12px 12px 20px;
    gap: 20px;
  }
}

.pageHeader {
  position: sticky;
  top: 0;
  z-index: 50;
  width: 100%;
  min-height: 64px;
  display: flex;
  align-items: center;
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 3px solid rgba(255, 107, 53, 0.35);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
}

.headerInner {
  max-width: 1024px;
  margin: 0 auto;
  padding: 0 16px;
  width: 100%;
}

@media (max-width: 768px) {
  .headerInner {
    padding: 0 12px;
  }
}

.headerRow {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  flex-wrap: wrap;
}

.headerAvatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  overflow: hidden;
  flex-shrink: 0;
  border: 3px solid var(--primary);
  background: rgba(255, 107, 53, 0.15);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
}
.headerAvatarEmoji {
  font-size: 1.5rem;
  line-height: 1;
}

.headerLevelBlock {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  min-width: 0;
}
.headerLevelText {
  font-family: 'Fredoka', sans-serif;
  font-size: 0.875rem;
  font-weight: 700;
  color: var(--background);
  line-height: 1;
}
.headerLevelBar {
  height: 6px;
  width: 72px;
  border-radius: 9999px;
  background: rgba(0, 0, 0, 0.12);
  overflow: hidden;
}
.headerLevelBarFill {
  height: 100%;
  border-radius: 9999px;
  background: linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 100%);
  transition: width 0.3s ease;
}

.logoContainer {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
}
@media (max-width: 600px) {
  .logoContainer .logoText,
  .logoContainer .servedBy {
    display: none;
  }
}

.logoMark {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
  background: transparent;
}

.logoKiteSvg {
  width: 48px;
  height: 48px;
  flex-shrink: 0;
  display: block;
  pointer-events: none;
}

.logoWordmark {
  font-family: 'Fredoka', sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: 0.02em;
  margin: 0;
}

.logoFitHero {
  color: var(--primary);
}

.logoKids {
  color: #E85D04;
}

.logoText {
  display: flex;
  flex-direction: column;
}

.appTitle {
  font-family: 'Fredoka', sans-serif;
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary);
  margin: 0;
  line-height: 1.2;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.tagline {
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #0F3460;
  margin: 0;
}

.servedBy {
  margin: 0 0 0 8px;
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--muted-foreground);
  background: var(--muted);
}

@media (max-width: 768px) {
  .servedBy {
    display: none;
  }
}

.headerRight {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.levelBadge {
  display: none;
}

.langToggle {
  display: flex;
  align-items: center;
  gap: 0;
  border-radius: 10px;
  border: 2px solid rgba(0, 0, 0, 0.12);
  overflow: hidden;
  background: rgba(0, 0, 0, 0.06);
}

.langBtn {
  padding: 10px 16px;
  font-size: 1.75rem;
  font-weight: 700;
  line-height: 1;
  border: none;
  background: transparent;
  color: var(--muted-foreground);
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
}

.langBtn:hover {
  background: rgba(0, 0, 0, 0.08);
  color: #1A1A2E;
}

.langBtnActive {
  background: var(--primary);
  color: var(--primary-foreground);
}

.langBtnActive:hover {
  background: var(--primary);
  color: var(--primary-foreground);
}

.goalRow {
  width: 100%;
}

.heroBox {
  flex-shrink: 0;
  width: 100%;
  padding: 0;
}

.contentSection {
  width: 100%;
}

/* Challenges section: lower on page, minimal gap above trees */
.challengesSection {
  width: 100%;
  margin-top: 12px;
  padding-bottom: 18px;
}

/* Bottom nav (Phase 2) */
.bottomNavWrap {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 40;
  max-width: 1024px;
  margin: 0 auto;
  padding: 0 8px 8px;
  padding-bottom: calc(8px + env(safe-area-inset-bottom, 0px));
}
